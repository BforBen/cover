$text-color-base: #3b3b3b;
$text-color-heading: #262b30;
$text-color-content: #333332;
$text-color-quote: #888;
$text-color-cite: #bbb;

$font-weight-normal: 400;

$font-stack-content: 'Open Sans', sans-serif;
$font-stack-heading: Montserrat, sans-serif;
$font-stack-code: 'Source Code Pro', monospace;

$link-color: #026ed2;
$link-color-hover: darken($link-color, 10%);
$link-border-color: #c3c2c9;

$button-background: #fff;
$button-border-color: #c3c2c9;
$button-color: #686868;
$button-color-hover: #fff;
$button-gray-background: #edebf3;
$button-gray-color: #858585;

$narrow: 500px;
$medium: 760px;
$wide: 1000px;

$divider-color: #b3b3b3;

@function parse-int($n) {
    @return $n / ($n * 0 + 1);
}

@mixin rem($property, $values) {
    $px : ();
    $rem: ();
    
    @each $value in $values {
        
        @if $value == 0 or $value == auto {
            $px : append($px, $value);
            $rem: append($rem, $value);
        } @else { 
            $unit: unit($value);
            $val: parse-int($value);
            
            @if $unit == 'px' {
                $px : append($px, $value);
                $rem: append($rem, ($val / 10 * 1rem));
            }
            
            @if $unit == 'rem' {
                $px : append($px, ($val * 10 * 1px));
                $rem: append($rem, $value);
            }
        }
    }
    
    // Note: this doubles the declarations of font-size, 
    // Unlike multiple declarations of the background property, 
    // css linter tasks do not recognize this as providing a fallback
    // for browsers that do not support the rem property.
    #{$property}: $px;
    #{$property}: $rem;
}

@mixin border-radius($radius) {
    -webkit-border-radius: $radius;
    -moz-border-radius: $radius;
    -ms-border-radius: $radius;
    -o-border-radius: $radius;
    border-radius: $radius;
}

@mixin transition($val) {
    -webkit-transition: $val;
    -moz-transition: $val;
    -o-transition: $val;
    transition: $val;
}

@mixin transform($val) {
    -webkit-transform: $val;
    -moz-transform: $val;
    -o-transform: $val;
    transform: $val;
}

@mixin site-width($width: $medium) {
    max-width: $width;
    margin-left: auto;
    margin-right: auto;
    width: 90%;
}

@mixin background-gradient($color1, $color2) {
	background-image: -webkit-gradient(linear, 50% 0, 50% 100%, color-stop(0%, $color1), color-stop(100%, $color2));
	background-image: -webkit-linear-gradient($color1, $color2);
	background-image: -moz-linear-gradient($color1, $color2);
	background-image: -o-linear-gradient($color1, $color2);
	background-image: linear-gradient($color1, $color2);
}

@mixin box-shadow($val) {
    @each $prefix in -webkit-, -moz-, -o-, null {
        #{$prefix}box-shadow: $val;
    }
}

@mixin box-sizing($val) {
    -webkit-box-sizing: $val;
    -moz-box-sizing: $val;
    box-sizing: $val;
}

@mixin button($background: $link-color, $color: #fff, $border-radius: 25px) {
    padding: 8px 15px;
    @include rem(font-size, 14px);
    border: 0;
    background: $background;
    color: $color;
    @include border-radius($border-radius);
    @include transition(all .2s ease-in-out);
    &:hover {
        background: darken($background, 10%);
        color: #fff;
    }
}

@mixin user-select($val) {
	-webkit-tap-highlight-color: rgba(0, 0, 0, 0);
	outline: 0;
	-webkit-touch-callout: $val;
	-webkit-user-select: $val;
	-khtml-user-select: $val;
	-moz-user-select: $val;
	-ms-user-select: $val;
	user-select: $val;
}

@mixin perspective($val) {
    -webkit-perspective: $val; 
    -moz-perspective: $val; 
    -ms-perspective: $val; 
    perspective: $val;
}

@mixin transform-style($val) {
    -webkit-transform-style: $val;
    -moz-transform-style: $val;
    -ms-transform-style: $val;
    transform-style: $val;
}

%image-caption { // style used for both normal and aesop image component captions
    @include rem(font-size, 15px);
    font-family: $font-stack-content;
    font-style: italic;
    @include site-width;
    @include rem(margin-top, 5px);
    @include rem(margin-bottom, 10px);
    i,
    em {
        font-style: normal;
    }
}

// Styles for defining social media icons.

$facebook-color: #3b5998;
$twitter-color: #00acee;
$google-color: #dd4b39;
$github-color: #4183c4;
$foursquare-color: #0072b1;
$flickr-color: #ff0084;
$appnet-color: #d87a68;
$linkedin-color: #0976b4;
$youtube-color: #e52d27;
$wordpress-color: #21759b;
$codepen-color: #60c2ff;
$instagram-color: #517fa4;
$tumblr-color: #2c4762;

@mixin social-icon {
    a {
        @each $url, $color, $char in 
                ('facebook', $facebook-color, $fa-var-facebook),
                ('twitter', $twitter-color, $fa-var-twitter),
                ('google', $google-color, $fa-var-google-plus),
                ('github', $github-color, $fa-var-github),
                ('foursqaure', $foursquare-color, $fa-var-foursquare),
                ('flickr', $flickr-color, $fa-var-flickr),
                ('linkedin', $linkedin-color, $fa-var-linkedin),
                ('youtube', $youtube-color, $fa-var-youtube-play),
                ('wordpress', $wordpress-color, $fa-var-wordpress),
                ('codepen', $codepen-color, $fa-var-codepen),
                ('instagram', $instagram-color, $fa-var-instagram),
                ('tumblr', $tumblr-color, $fa-var-tumblr) {
            &[href*='#{$url}'] {
                .fa-circle {
                    color: $color;
                    
                    &:before {
                        @include transition(color 200ms);
                    }
                }
                
                .social-icon {
                    @include transition(color 200ms);
                    &:before {
                        content: $char;
                    }
                }
                
                &:hover {
                    .fa-circle {
                        color: #fff;
                    }
                    
                    .social-icon {
                        color: $color;
                    }
                }
            }
        }
    }
}
